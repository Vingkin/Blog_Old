<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>操作系统下 | Vingkin的学习文档</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/Blog/vuepress/favicon.ico">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/Blog/js/MouseClickEffect.js"></script>
    <meta name="description" content="~~~">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.17f0d514.css" as="style"><link rel="preload" href="/Blog/assets/js/app.4417eb82.js" as="script"><link rel="preload" href="/Blog/assets/js/3.2daec6eb.js" as="script"><link rel="preload" href="/Blog/assets/js/1.3441dec7.js" as="script"><link rel="preload" href="/Blog/assets/js/12.43533bfe.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.f0f7997f.js"><link rel="prefetch" href="/Blog/assets/js/11.385157e5.js"><link rel="prefetch" href="/Blog/assets/js/13.fca9ec1a.js"><link rel="prefetch" href="/Blog/assets/js/14.4ef5a506.js"><link rel="prefetch" href="/Blog/assets/js/15.25d1439b.js"><link rel="prefetch" href="/Blog/assets/js/16.e4200779.js"><link rel="prefetch" href="/Blog/assets/js/17.0f620a4b.js"><link rel="prefetch" href="/Blog/assets/js/18.3e2c61c2.js"><link rel="prefetch" href="/Blog/assets/js/19.c841fda6.js"><link rel="prefetch" href="/Blog/assets/js/20.7e7aa66c.js"><link rel="prefetch" href="/Blog/assets/js/21.c4003560.js"><link rel="prefetch" href="/Blog/assets/js/22.0406d90f.js"><link rel="prefetch" href="/Blog/assets/js/23.71a12a58.js"><link rel="prefetch" href="/Blog/assets/js/24.dae641fb.js"><link rel="prefetch" href="/Blog/assets/js/25.219b65bd.js"><link rel="prefetch" href="/Blog/assets/js/26.4e8222ba.js"><link rel="prefetch" href="/Blog/assets/js/27.09e9f908.js"><link rel="prefetch" href="/Blog/assets/js/28.c3952bad.js"><link rel="prefetch" href="/Blog/assets/js/29.6f972569.js"><link rel="prefetch" href="/Blog/assets/js/30.c34fffbe.js"><link rel="prefetch" href="/Blog/assets/js/31.c79fd8b8.js"><link rel="prefetch" href="/Blog/assets/js/32.e8d64e7e.js"><link rel="prefetch" href="/Blog/assets/js/33.d1b0b891.js"><link rel="prefetch" href="/Blog/assets/js/34.1f6ad2c0.js"><link rel="prefetch" href="/Blog/assets/js/35.1fac3064.js"><link rel="prefetch" href="/Blog/assets/js/36.80d4f061.js"><link rel="prefetch" href="/Blog/assets/js/37.7aa2ac27.js"><link rel="prefetch" href="/Blog/assets/js/38.2e6db6ef.js"><link rel="prefetch" href="/Blog/assets/js/39.c694788f.js"><link rel="prefetch" href="/Blog/assets/js/4.75bd0991.js"><link rel="prefetch" href="/Blog/assets/js/40.f46a350c.js"><link rel="prefetch" href="/Blog/assets/js/41.31e6560f.js"><link rel="prefetch" href="/Blog/assets/js/42.97d443e9.js"><link rel="prefetch" href="/Blog/assets/js/43.bd75055b.js"><link rel="prefetch" href="/Blog/assets/js/44.155af8d3.js"><link rel="prefetch" href="/Blog/assets/js/45.a371798f.js"><link rel="prefetch" href="/Blog/assets/js/46.01c1199d.js"><link rel="prefetch" href="/Blog/assets/js/47.d4a385db.js"><link rel="prefetch" href="/Blog/assets/js/48.0ebb7ce7.js"><link rel="prefetch" href="/Blog/assets/js/49.b1cab958.js"><link rel="prefetch" href="/Blog/assets/js/5.fb11ee35.js"><link rel="prefetch" href="/Blog/assets/js/50.6b058eb4.js"><link rel="prefetch" href="/Blog/assets/js/51.a5d807a2.js"><link rel="prefetch" href="/Blog/assets/js/52.3054df5d.js"><link rel="prefetch" href="/Blog/assets/js/53.7470179e.js"><link rel="prefetch" href="/Blog/assets/js/54.7f3159e8.js"><link rel="prefetch" href="/Blog/assets/js/55.5e8ba284.js"><link rel="prefetch" href="/Blog/assets/js/56.acb1d7cf.js"><link rel="prefetch" href="/Blog/assets/js/57.a115610c.js"><link rel="prefetch" href="/Blog/assets/js/58.a97752ca.js"><link rel="prefetch" href="/Blog/assets/js/59.0ffd11b8.js"><link rel="prefetch" href="/Blog/assets/js/6.623615b6.js"><link rel="prefetch" href="/Blog/assets/js/60.e7dc7070.js"><link rel="prefetch" href="/Blog/assets/js/61.e63abaa0.js"><link rel="prefetch" href="/Blog/assets/js/62.d32de587.js"><link rel="prefetch" href="/Blog/assets/js/63.2f3f0652.js"><link rel="prefetch" href="/Blog/assets/js/64.4f989fd3.js"><link rel="prefetch" href="/Blog/assets/js/65.e358d834.js"><link rel="prefetch" href="/Blog/assets/js/66.026d73ea.js"><link rel="prefetch" href="/Blog/assets/js/67.576ada3a.js"><link rel="prefetch" href="/Blog/assets/js/68.9f8f16af.js"><link rel="prefetch" href="/Blog/assets/js/69.07b64bdb.js"><link rel="prefetch" href="/Blog/assets/js/7.9749877c.js"><link rel="prefetch" href="/Blog/assets/js/70.2ee86b48.js"><link rel="prefetch" href="/Blog/assets/js/8.5d1f39fa.js"><link rel="prefetch" href="/Blog/assets/js/9.84e28c7d.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.17f0d514.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>Vingkin的学习文档</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>~~~</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>Vingkin</span>
            
          <!---->
          2023
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><img src="/Blog/logo.gif" alt="Vingkin的学习文档" class="logo"> <span class="site-name">Vingkin的学习文档</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Blog/" class="nav-link"><i class="undefined"></i>
  Home
</a></div><div class="nav-item"><a href="/Blog/guide/interview/Java.html" class="nav-link"><i class="undefined"></i>
  Java相关
</a></div><div class="nav-item"><a href="/Blog/OS/OS1.html" class="nav-link"><i class="undefined"></i>
  操作系统
</a></div><div class="nav-item"><a href="/Blog/netty/nio/three_component.html" class="nav-link"><i class="undefined"></i>
  Netty
</a></div><div class="nav-item"><a href="/Blog/designmode/SoftwareDesignPrinciples.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></div><div class="nav-item"><a href="/Blog/ml/YOLOv3.html" class="nav-link"><i class="undefined"></i>
  机器学习
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      微服务
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/microservice/reactive/reactivestream.html" class="nav-link"><i class="undefined"></i>
  响应式编程
</a></li><li class="dropdown-item"><!----> <a href="/Blog/microservice/middleware/elasticsearch/ElasticSearchBase.html" class="nav-link"><i class="undefined"></i>
  中间件
</a></li></ul></div></div> <a href="https://github.com/vingkin/Blog" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><!----> <h3 class="name" data-v-39576ba9>
    Vingkin
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>60</h3> <h6 data-v-39576ba9>文章</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>标签</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/Blog/" class="nav-link"><i class="undefined"></i>
  Home
</a></div><div class="nav-item"><a href="/Blog/guide/interview/Java.html" class="nav-link"><i class="undefined"></i>
  Java相关
</a></div><div class="nav-item"><a href="/Blog/OS/OS1.html" class="nav-link"><i class="undefined"></i>
  操作系统
</a></div><div class="nav-item"><a href="/Blog/netty/nio/three_component.html" class="nav-link"><i class="undefined"></i>
  Netty
</a></div><div class="nav-item"><a href="/Blog/designmode/SoftwareDesignPrinciples.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></div><div class="nav-item"><a href="/Blog/ml/YOLOv3.html" class="nav-link"><i class="undefined"></i>
  机器学习
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      微服务
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/microservice/reactive/reactivestream.html" class="nav-link"><i class="undefined"></i>
  响应式编程
</a></li><li class="dropdown-item"><!----> <a href="/Blog/microservice/middleware/elasticsearch/ElasticSearchBase.html" class="nav-link"><i class="undefined"></i>
  中间件
</a></li></ul></div></div> <a href="https://github.com/vingkin/Blog" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <ul class="sidebar-links"><li><a href="/Blog/OS/OS1.html" class="sidebar-link">操作系统上</a></li><li><a href="/Blog/OS/OS2.html" class="sidebar-link">操作系统中</a></li><li><a href="/Blog/OS/OS3.html" aria-current="page" class="active sidebar-link">操作系统下</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>操作系统下</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>Vingkin</span>
            
          <!---->
          2023
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">操作系统下</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>keyhx</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>2022-6-28</span></i> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="_1、初识文件管理"><a href="#_1、初识文件管理" class="header-anchor">#</a> 1、初识文件管理</h2> <ol><li><p>文件内部的数据组织形式</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220521220755154.png" alt="image-20220521220755154"></p></li> <li><p>文件组织形式</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220521220941143.png" alt="image-20220521220941143"></p></li> <li><p>操作系统向上提供的功能</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220521221245106.png" alt="image-20220521221245106"></p> <p>可以使用几个基本操作完成更加复杂的操作，比如：复制文件：先创建一个新的空文件夹，再把源文件读入内存，再将内存中的数据写入到新文件中</p></li> <li><p>文件如何存放在外存？</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220521221810990.png" alt="image-20220521221810990"></p></li> <li><p>其他需要操作系统实现的文件管理功能</p> <p>文件共享：使多个用户可以共享使用一个文件</p> <p>文件保护：如何保证不同的用户对文件由不同的操作权限</p></li></ol> <h2 id="_2、文件的逻辑结构"><a href="#_2、文件的逻辑结构" class="header-anchor">#</a> 2、文件的逻辑结构</h2> <p>文件逻辑结构：指在用户看来，文件内部的数据应该是如何组织起来的</p> <p>文件的物理结构：在操作系统看来，文件的数据是如何存放在外存中的</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522125526046.png" alt="image-20220522125526046"></p> <ol><li><p>无结构文件：文件内部的数据就是一系列二进制流或字符流组成。又称“<strong>流式文件</strong>”。比如：.txt文件</p></li> <li><p>有结构文件：由一组相似的记录组成，又称为“<strong>记录式文件</strong>”。每条记录又由若干个数据项组成。如</p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522125936141.png" alt="image-20220522125936141"></p> <ul><li><p>根据各条记录的长度(占用的存储空间)是否相等，又可以分为<strong>定长记录和可变长记录</strong></p> <ul><li><p>定长记录</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522131645588.png" alt="image-20220522131645588"></p></li> <li><p>可变长记录</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522131805969.png" alt="image-20220522131805969"></p></li></ul></li></ul> <ol start="3"><li><p>顺序文件</p> <ul><li><p>文件中的记录一个接一个的顺序排列(逻辑上)，记录<strong>可以是定长的或可变长的</strong>。各个记录在物理上可以<strong>顺序存储或链式存储</strong></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522132423543.png" alt="image-20220522132423543"></p></li> <li><p>已经知道文件的起始地址，能否找到第i个记录对应的地址即能否实现随机存储，能否根据关键字实现随机查找？</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522134405761.png" alt="image-20220522134405761"></p></li></ul></li> <li><p>索引文件</p> <p>解决的问题：对于可变长记录文件，要找到第i个记录，必须先顺序查找第i - 1个记录。</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522135220091.png" alt="image-20220522135220091"></p></li> <li><p>索引顺序文件</p> <p>解决问题：每个记录对应一个索引表项，因此索引表可能会很大</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522141420657.png" alt="image-20220522141420657"></p> <ul><li><p>文件检索效率</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522142220989.png" alt="image-20220522142220989"></p></li> <li><p>多级索引顺序文件</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522142404913.png" alt="image-20220522142404913"></p></li></ul></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522142638847.png" alt="image-20220522142638847"></p> <h2 id="_3、文件目录"><a href="#_3、文件目录" class="header-anchor">#</a> 3、文件目录</h2> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522143959739.png" alt="image-20220522143959739"></p> <ol><li><p>文件控制块</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522144708324.png" alt="image-20220522144708324"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522144900273.png" alt="image-20220522144900273"></p> <p>需要对目录进行哪些操作？</p> <p><strong>搜索</strong>：当用户需要使用一个文件的时候，系统要根据文件名搜索目录，找到该文件对应的目录项</p> <p><strong>创建文件</strong>：创建一个新文件时，需要在其所属的目录中增加一个目录项</p> <p><strong>删除文件</strong>：当删除一个文件时，需要在目录中删除相应的目录项</p> <p><strong>显示目录</strong>：用户可以请求显示目录的内容，如显示该目录中的所有文件及相应的属性</p> <p><strong>修改目录</strong>：某些文件属性保存在目录中，因此这些属性变化时需要修改相应的目录项</p></li> <li><p>目录结构----单级目录结构</p> <p>整个系统只建立一张目录表，每个文件占一个目录项</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522202312578.png" alt="image-20220522202312578"></p></li> <li><p>目录结构---两级目录结构</p> <p>早期的多用户操作系统，采用两级目录结构。分为主文件目录(MFD)和用户文件目录(UFD)</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522203520109.png" alt="image-20220522203520109"></p></li> <li><p>目录结构---多级目录结构(又称树形目录结构)</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522203842838.png" alt="image-20220522203842838"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522204512602.png" alt="image-20220522204512602"></p></li> <li><p>目录结构---无环图目录结构</p> <p>解决的问题：树形目录结构可以很方便的对文件进行分类，层次结构清晰，也能够更有效地进行文件的管理和保护。但是，树形结构不便于实现文件的共享。</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522213646590.png" alt="image-20220522213646590"></p></li> <li><p>索引结点(FCB的改进)</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522213950345.png" alt="image-20220522213950345"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522214100918.png" alt="image-20220522214100918"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522214148310.png" alt="image-20220522214148310"></p> <h2 id="_4、文件的物理结构"><a href="#_4、文件的物理结构" class="header-anchor">#</a> 4、文件的物理结构</h2> <ol><li><p>类似内存分页，磁盘中的存储单元也会被分为一个个“块/磁盘块/物理块”，<strong>磁盘块的大小与内存块、页面的大小相同</strong></p></li> <li><p>内存与磁盘之间的数据交换(即读/写操作、磁盘I/O)都是以块为单位进行的，即每次读入一块，或每次写出一块</p></li> <li><p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220524133535599.png" alt="image-20220524133535599"></p></li> <li><p>文件分配方式----连续分配</p> <ul><li><p>连续分配方式要求每个文件在磁盘上占有一组连续的块</p></li> <li><p>优点：支持顺序访问和直接访问(即随机访问)；连续分配的文件在顺序访问时速度最快</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220524134337470.png" alt="image-20220524134337470"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220524134541056.png" alt="image-20220524134541056"></p></li> <li><p>缺点：不方便文件拓展；存储空间利用率低，会产生磁盘碎片</p> <p><img src="C:%5CUsers%5CAIERXUAN%5CDesktop%5Cpicture%5Cimage-20220524135042854-16533715138903.png" alt="image-20220524135042854"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220524142132631.png" alt="image-20220524142132631"></p></li></ul></li> <li><p>文件分配方式---链接分配</p> <p>链接分配采取离散分配的方式，可以为文件分配离散的磁盘块。分为隐式链接和显式链接两种</p> <ul><li><p>隐式链接</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529212115224.png" alt="image-20220529212115224"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529212212817.png" alt="image-20220529212212817"></p> <p>隐式链接：除文件的最后一个盘块之外，每个盘块中都存有指向下一个盘块的指针。文件目录包括文件第一块的指针和最后一块指针</p> <p>优点：方便文件拓展，不会有碎片问题，外存利用率高</p> <p>缺点：只支持顺序访问，不支持随机访问，查找效率低，指向下一个盘块的指针也需要耗费少量的存储空间。</p></li> <li><p>显示链接</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529212901703.png" alt="image-20220529212901703"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529213416885.png" alt="image-20220529213416885"></p> <p>显示链接---把用于链接文件各个物理块的指针显示的存放在一张表中，即文件分配表(FAT)。一个磁盘只会建立一张文件分配表，开机时文件分配表放入内存，并常驻内存。</p> <p>优点：方便文件拓展，不会有碎片问题，外存利用率高，并且支持随机访问，相比于隐式链接来说，地址转换时不需要访问磁盘，因此文件的访问效率更高</p> <p>缺点：文件分配表需要占用一定的内存</p></li> <li><p>索引分配</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529214611813.png" alt="image-20220529214611813"></p> <p>如何实现文件的逻辑块号到物理块号的转换？</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529215048681.png" alt="image-20220529215048681"></p> <p>若每个磁盘块1KB，一个索引表项4B，则一个磁盘块只能存放256个索引项，如果一个文件的大小超过了256块，那么一个磁盘块是装不下文件的整张索引表的，如何解决？</p> <p>①链接方案</p> <p>②多层索引</p> <p>③混合索引</p> <ul><li><p>链接方案</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529222421721.png" alt="image-20220529222421721"></p></li> <li><p>多层索引</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530143548528.png" alt="image-20220530143548528"></p> <p>采用k层索引结构，且顶级索引表未调入内存，则访问一个数据块只需要k + 1次读磁盘操作</p></li> <li><p>混合索引</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530144020397.png" alt="image-20220530144020397"></p></li></ul></li></ul></li></ol> <h2 id="_5、文件存储空间管理"><a href="#_5、文件存储空间管理" class="header-anchor">#</a> 5、文件存储空间管理</h2> <ol><li><p>存储空间的划分与初始化</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530144632343.png" alt="image-20220530144632343"></p></li> <li><p>存储空间管理---空闲表法</p> <p>适用于连续分配方式</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530145112083.png" alt="image-20220530145112083"></p></li> <li><p>存储空间管理---空闲链表法</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530145400964.png" alt="image-20220530145400964"></p> <ul><li><p>空闲盘块链</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530145536142.png" alt="image-20220530145536142"></p></li> <li><p>空闲盘区链</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530145757007.png" alt="image-20220530145757007"></p></li></ul></li> <li><p>存储空间管理---位视图法</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530193310886.png" alt="image-20220530193310886"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530193511600.png" alt="image-20220530193511600"></p> <p>连续分配、离散分配都适用</p></li> <li><p>存储空间管理---成组链接法</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530193750402.png" alt="image-20220530193750402"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530194728231.png" alt="image-20220530194728231"></p> <p>如何进行空闲块的分配？</p> <p>比如：需要100个空闲块</p> <p>①检查第一个分组的块数是否足够。100 = 100，足够。</p> <p>②分配第一个分组中的100个空闲块。但是由于300号块内存放了再下一组的信息，因此300号块的数据需要复制到超级块中</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530195251537.png" alt="image-20220530195251537"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530195308743.png" alt="image-20220530195308743"></p> <p>如何回收？</p> <p>假设每个分组最多为100个空闲块，此时第一个分组已有100个块，还要再回收一块。需要将超级块中的数据复制到新回收的块中，并修改超级块的内容，让新回收的块成为第一个分组</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530195708965.png" alt="image-20220530195708965"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530195918540.png" alt="image-20220530195918540"></p> <h2 id="_6、文件的基本操作"><a href="#_6、文件的基本操作" class="header-anchor">#</a> 6、文件的基本操作</h2> <ol><li><p>创建文件</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530201101036.png" alt="image-20220530201101036"></p></li> <li><p>删除文件</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530201342594.png" alt="image-20220530201342594"></p></li> <li><p>打开文件</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530201818071.png" alt="image-20220530201818071"></p></li> <li><p>打开文件</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530202619445.png" alt="image-20220530202619445"></p></li> <li><p>关闭文件</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530202718681.png" alt="image-20220530202718681"></p></li> <li><p>读文件</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530204655334.png" alt="image-20220530204655334"></p></li> <li><p>写文件</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530204953730.png" alt="image-20220530204953730"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530205021424.png" alt="image-20220530205021424"></p> <h2 id="_7、文件共享"><a href="#_7、文件共享" class="header-anchor">#</a> 7、文件共享</h2> <p>文件共享是操作系统为用户提供文件共享功能，可以让多个用户共享的适用同一个文件，多个用户共享同一个文件，意味着系统中只有“一份”文件数据。并且只要某个用户修改了该文件数据，其他用户也可以看到文件数据的变化</p> <ol><li><p>基于索引节点的共享方式(硬链接)</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530205956876.png" alt="image-20220530205956876"></p></li> <li><p>基于符号链的共享方式(软链接)</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530210148637.png" alt="image-20220530210148637"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530210336394.png" alt="image-20220530210336394"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530210456044.png" alt="image-20220530210456044"></p> <h2 id="_8、文件保护"><a href="#_8、文件保护" class="header-anchor">#</a> 8、文件保护</h2> <ol><li><p>口令保护</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530210706405.png" alt="image-20220530210706405"></p></li> <li><p>加密保护</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530210923203.png" alt="image-20220530210923203"></p> <p>每五位就与01001进行异或操作</p> <p>优点：保密性强，不需要再系统中存储“密码”</p> <p>缺点：编码/译码(加密/解密)要花费一定时间</p></li> <li><p>访问控制</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530212222775.png" alt="image-20220530212222775"></p> <p>精简的访问列表：以“组”为单位，标记各“组”用户可以对文件执行哪些操作。比如：分为 系统管理员、文件主、文件主的伙伴、其他用户 几个分组</p> <p>当用户想要访问文件时，系统会检查该用户所属的分组是否有相应的访问权限</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530212539209.png" alt="image-20220530212539209"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530212817688.png" alt="image-20220530212817688"></p> <h2 id="_9、文件系统的层次结构"><a href="#_9、文件系统的层次结构" class="header-anchor">#</a> 9、文件系统的层次结构</h2> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530213756966.png" alt="image-20220530213756966"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530214006044.png" alt="image-20220530214006044"></p> <h2 id="_10、磁盘的结构"><a href="#_10、磁盘的结构" class="header-anchor">#</a> 10、磁盘的结构</h2> <ol><li><p>磁盘、磁道、扇区</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530214532180.png" alt="image-20220530214532180"></p></li> <li><p>如何在磁盘中读/写数据</p> <p><img src="C:%5CUsers%5CAIERXUAN%5CDesktop%5Cpicture%5Cimage-20220530214811906-16539185445651.png" alt="image-20220530214811906"></p></li> <li><p>盘面/柱面</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530220243511.png" alt="image-20220530220243511"></p> <p>柱面：具有相同编号的磁道形成的圆柱</p></li> <li><p>磁盘的分类</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530220354717.png" alt="image-20220530220354717"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530220421638.png" alt="image-20220530220421638"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530220453740.png" alt="image-20220530220453740"></p> <h2 id="_11、磁盘调度算法"><a href="#_11、磁盘调度算法" class="header-anchor">#</a> 11、磁盘调度算法</h2> <ol><li><p>一次磁盘读/写操作需要的时间</p> <ul><li><p>寻找时间(寻道时间)<mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.185ex" height="1.887ex" viewBox="0 -677 965.6 834.1" style="vertical-align:-0.355ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="54" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><path data-c="73" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></svg></mjx-container> :在读/写数据前，将磁头移动到指定磁盘所花的时间</p> <ol><li>启动磁头臂时间为s</li> <li>移动磁头时间，假设是匀速移动，每跨越一个磁道耗时为m，总共需要跨越n个磁道</li></ol> <p>寻道时间 <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="15.138ex" height="1.887ex" viewBox="0 -677 6691.1 834.1" style="vertical-align:-0.355ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="54" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><path data-c="73" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g><g data-mml-node="mo" transform="translate(1243.4, 0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(2299.2, 0)"><path data-c="73" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mo" transform="translate(2990.4, 0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(3990.6, 0)"><path data-c="6D" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(5090.9, 0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(6091.1, 0)"><path data-c="6E" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container></p></li> <li><p>延迟时间<mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.649ex" height="1.905ex" viewBox="0 -677 1170.7 841.8" style="vertical-align:-0.373ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="54" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><path data-c="52" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g></g></g></g></svg></mjx-container> :通过旋转磁盘，使磁头定位到目标扇区所需要的时间。设磁盘转速为r，则平均所需的延迟时间$T_R = \frac{1}{2} * \frac{1}{r} = \frac{1}{2r} $ (<mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="1.795ex" height="2.755ex" viewBox="0 -864.9 793.6 1217.7" style="vertical-align:-0.798ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(220, 394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mi" transform="translate(237.3, -345) scale(0.707)"><path data-c="72" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><rect width="553.6" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container> 是转动一圈需要的时间，找到目标扇区平均需要转半圈，因此乘<mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="1.795ex" height="2.737ex" viewBox="0 -864.9 793.6 1209.9" style="vertical-align:-0.781ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(220, 394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mn" transform="translate(220, -345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><rect width="553.6" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container>)</p></li> <li><p>传输时间<mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.185ex" height="1.887ex" viewBox="0 -677 965.6 834.1" style="vertical-align:-0.355ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="54" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><path data-c="73" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></svg></mjx-container> :从磁盘读出或向磁盘写入数据所经历的时间，假设磁盘转速为r，此次读/写的字节数为b，每个磁盘上的字节数为N。则</p> <p>传输时间<mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="18.334ex" height="2.8ex" viewBox="0 -884.7 8103.5 1237.5" style="vertical-align:-0.798ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="54" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><path data-c="73" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g><g data-mml-node="mo" transform="translate(1243.4, 0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(2299.2, 0)"><g data-mml-node="mn" transform="translate(220, 394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mi" transform="translate(237.3, -345) scale(0.707)"><path data-c="72" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><rect width="553.6" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(3315, 0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mfrac" transform="translate(4315.2, 0)"><g data-mml-node="mi" transform="translate(382.3, 394) scale(0.707)"><path data-c="62" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(220, -345) scale(0.707)"><path data-c="4E" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><rect width="827.9" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(5660.9, 0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(6716.7, 0)"><g data-mml-node="mi" transform="translate(541.7, 394) scale(0.707)"><path data-c="62" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mrow" transform="translate(220, -345) scale(0.707)"><g data-mml-node="mi"><path data-c="72" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(451, 0)"><path data-c="4E" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g><rect width="1146.8" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container> (每个磁道可存N字节的数据，因此b字节的数据需要b/N个磁道才能存储，而读/写一个磁道所需的时间刚好又是转一圈所需要的时间<mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="1.795ex" height="2.755ex" viewBox="0 -864.9 793.6 1217.7" style="vertical-align:-0.798ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(220, 394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mi" transform="translate(237.3, -345) scale(0.707)"><path data-c="72" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><rect width="553.6" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container> )</p></li></ul> <p>总的平均存储时间<mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="18.668ex" height="2.8ex" viewBox="0 -884.7 8251.4 1237.5" style="vertical-align:-0.798ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="54" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><path data-c="61" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g><g data-mml-node="mo" transform="translate(1285.8, 0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msub" transform="translate(2341.6, 0)"><g data-mml-node="mi"><path data-c="54" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><path data-c="73" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g><g data-mml-node="mo" transform="translate(3529.5, 0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mfrac" transform="translate(4529.7, 0)"><g data-mml-node="mn" transform="translate(379.5, 394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mrow" transform="translate(220, -345) scale(0.707)"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(500, 0)"><path data-c="72" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g><rect width="872.5" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(5864.4, 0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mfrac" transform="translate(6864.6, 0)"><g data-mml-node="mi" transform="translate(541.7, 394) scale(0.707)"><path data-c="62" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mrow" transform="translate(220, -345) scale(0.707)"><g data-mml-node="mi"><path data-c="72" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(451, 0)"><path data-c="4E" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g><rect width="1146.8" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container></p> <p>延迟时间和传输时间都与磁盘转速相关，且为线性相关。而转速是硬件固有的属性，因此操作系统也无法优化延迟时间和传输时间。</p></li> <li><p>磁盘调度算法</p> <ul><li><p>先来先服务算法(FCFS)</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220530224610670.png" alt="image-20220530224610670"></p></li> <li><p>最短寻找时间优先(SSTF)</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220531113725569.png" alt="image-20220531113725569"></p></li> <li><p>扫描算法(SCAN)</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220531114050634.png" alt="image-20220531114050634"></p></li> <li><p>LOOK调度算法</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220531114605608.png" alt="image-20220531114605608"></p></li> <li><p>循环扫描算法(C-SCAN)</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220531114848212.png" alt="image-20220531114848212"></p></li> <li><p>C-LOOK调度算法</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220531115047482.png" alt="image-20220531115047482"></p></li></ul></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220531115101881.png" alt="image-20220531115101881"></p> <h2 id="_12、减少延迟时间的方法"><a href="#_12、减少延迟时间的方法" class="header-anchor">#</a> 12、减少延迟时间的方法</h2> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220531200459574.png" alt="image-20220531200459574"></p> <ol><li><p>减少延迟时间的方法：交替编号</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220531201414435.png" alt="image-20220531201414435"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220531223117841.png" alt="image-20220531223117841"></p> <p>转两圈读完的原因：因为要一个隔着一个的读，所以需要两圈</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220531223412094.png" alt="image-20220531223412094"></p></li> <li><p>减少延迟时间的方法：错位命名</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220607112210165.png" alt="image-20220607112210165"></p> <ul><li>0号盘面是在1号盘面上面的，扇区都一一对应，转两圈读取完0号盘面的数据以后，读取1号盘面的0扇区时无法立即开始读，增加了延迟时间</li></ul> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220607112458312.png" alt="image-20220607112458312"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220607112703160.png" alt="image-20220607112703160"></p> <h2 id="_13、磁盘的管理"><a href="#_13、磁盘的管理" class="header-anchor">#</a> 13、磁盘的管理</h2> <ol><li><p>磁盘初始化</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220607113400305.png" alt="image-20220607113400305"></p></li> <li><p>引导块</p> <ul><li>计算机开机时需要进行一系列初始化工作，这些初始化工作是通过执行**初始化程序(自举程序)**完成的</li> <li>在ROM中存放了很小的&quot;自举装入程序&quot;，开机时计算机先运行&quot;自举装入程序&quot;，通过执行该程序就可以找到引导块，并将完整的自举程序读入内存，完成初始化</li> <li>完整的自举程序放在磁盘的启动块(即引导块/启动分区)上，启动块位于磁盘的固定位置，拥有启动分区的磁盘为启动磁盘或系统磁盘(C:盘)</li></ul></li> <li><p>坏块管理</p> <p>坏块：无法正常使用的扇区，属于硬件故障，操作系统是无法修复的，应该将坏块标记出来，以免错误的使用到它</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608103307481.png" alt="image-20220608103307481"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608103332891.png" alt="image-20220608103332891"></p> <h2 id="_14、i-o设备的基本概念和分类"><a href="#_14、i-o设备的基本概念和分类" class="header-anchor">#</a> 14、I/O设备的基本概念和分类</h2> <ol><li><p>I/O设备介绍</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608104012756.png" alt="image-20220608104012756"></p></li> <li><p>I/O设备的分类</p> <ul><li><p>按照使用特性分类</p> <p><img src="C:%5CUsers%5CAIERXUAN%5CDesktop%5Cpicture%5Cimage-20220608104222135-16546561790021.png" alt="image-20220608104222135"></p></li> <li><p>按照传输速率分类</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608104500993.png" alt="image-20220608104500993"></p></li> <li><p>按信息交换的单位分类</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608104632049.png" alt="image-20220608104632049"></p></li></ul></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608104719687.png" alt="image-20220608104719687"></p> <h2 id="_15、i-o控制器"><a href="#_15、i-o控制器" class="header-anchor">#</a> 15、I/O控制器</h2> <ol><li><p>I/O设备的机械部件</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608104921354.png" alt=""></p></li> <li><p>I/O设备的电子部件(I/O控制器)</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608105259812.png" alt="image-20220608105259812"></p></li> <li><p>I/O控制器的组成</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608105835197.png" alt="image-20220608105835197"></p> <p>注意：</p> <ul><li>一个I/O控制器可能会对应多个设备</li> <li>数据寄存器、控制寄存器、状态寄存器可能也有多个，每个控制/状态寄存器对应一个具体的设备，且这些寄存器都要有相应的地址，才能方便CPU操作。有的计算机会让这些寄存器占用内存地址的一部分，称为<strong>内存映像I/O</strong>;另一些计算机则采用I/O专用地址，即<strong>寄存器独立编址</strong></li></ul></li> <li><p>内存映像I/O与寄存器独立编址</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608110542490.png" alt="image-20220608110542490"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608110604462.png" alt="image-20220608110604462"></p> <h2 id="_16、i-o控制方式"><a href="#_16、i-o控制方式" class="header-anchor">#</a> 16、I/O控制方式</h2> <ol><li><p>程序直接控制方式</p> <ol><li>完成一次读/写操作的流程(轮询)</li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608132930223.png" alt="image-20220608132930223"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608133444265.png" alt="image-20220608133444265"></p> <ol start="2"><li><p>CPU干预的频率</p> <p>很频繁，I/O操作开始之前、完成之后需要CPU介入，并且在等待I/O完成的过程中CPU需要不断的轮询检查</p></li> <li><p>数据传送的单位</p> <p>每次读/写<strong>一个字</strong></p></li> <li><p>数据的流向</p> <p>读操作(数据输入)：I/O设备 ---&gt; CPU --&gt; 内存</p> <p>写操作(数据输出)：内存 ---&gt; CPU ---&gt; I/O设备</p> <p>每个字的读/写都需要CPU的帮助</p></li> <li><p>优缺点</p> <p>优点：实现简单，在读/写指令之后，加上实现循环检查的一系列指令即可</p> <p>缺点：CPU和I/O设备只能串行工作，CPU需要一直轮询检查，长期处于“忙等”状态，CPU利用率低</p></li></ol></li> <li><p>中断驱动方式</p> <ol><li><p>完成一次读/写操作的流程</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608134521785.png" alt=""></p></li> <li><p>CPU干预的频率</p> <p>每次I/O操作开始之前、完成之后需要CPU介入</p> <p>等待I/O完成的过程中CPU可以切换到别的进程执行</p></li> <li><p>数据传送单位</p> <p>每次读/写<strong>一个字</strong></p></li> <li><p>数据的流向</p> <p>读操作(数据输入)：I/O设备 ---&gt; CPU --&gt; 内存</p> <p>写操作(数据输出)：内存 ---&gt; CPU ---&gt; I/O设备</p></li> <li><p>优缺点</p> <p>优点：与程序直接控制方式相比，在中断驱动方式中，I/O控制器会通过中断信号主动报告I/O已完成，CPU不再需要不停的轮询。<strong>CPU与I/O设备可并行工作</strong>，CPU利用率得到明显的提升</p> <p>缺点：每个字在I/O设备与内存之间的传输，都需要经过CPU。而<strong>频繁的中断处理会消耗较多的CPU时间</strong>，每次中断只能传输一个字</p></li></ol></li> <li><p>DMA方式(直接存储器存取)</p> <p>完成一次读/写操作的流程</p> <p><img src="C:%5CUsers%5CAIERXUAN%5CDesktop%5Cpicture%5Cimage-20220608140442691-16546685878863.png" alt="image-20220608140442691"></p> <ol><li><p>DMA控制器</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608140914035.png" alt="image-20220608140914035"></p></li> <li><p>CPU干预的频率</p> <p>在传送一个或多个数据块的开始和结束时，才需要CPU的干预</p></li> <li><p>数据传送的单位</p> <p>每次读/写一个或多个块(注意每次读写的只能是连续的多个块，且这些块读入内存后在)</p></li> <li><p>数据的流向(不再需要经过CPU)</p> <p>读操作(数据输入)：I/O设备 ---&gt; 内存</p> <p>写操作(数据输出)：内存 ---&gt; I/O设备</p></li> <li><p>优缺点</p> <p>优点：数据传输以&quot;块&quot;为单位，CPU介入频率进一步降低。数据的传输不再需要先经过CPU再写入内存，数据传输效率进一步增加。CPU和I/O设备的并行性得到提升</p> <p>缺点：CPU每发出一条I/O指令，只能读/写一个或多个连续的数据块。如果要读写多个离散存储的数据块，或者要将数据分别写到不同内存区域时，CPU要分别发出多条I/O指令，进行多次中断处理才能完成</p></li></ol></li> <li><p>通道控制方式</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608144106793.png" alt="image-20220608144106793"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608144250495.png" alt="image-20220608144250495"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608144448647.png" alt="image-20220608144448647"></p> <h2 id="_17、i-o软件层次结构"><a href="#_17、i-o软件层次结构" class="header-anchor">#</a> 17、I/O软件层次结构</h2> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608144740589-16546708755945.png" alt=""></p> <ol><li><p>用户层系统</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608145040522.png" alt="image-20220608145040522"></p></li> <li><p>设备独立性软件</p> <p>设备独立性软件，又称设备无关性软件，与设备的硬件特性无关的功能都几乎在这一层实现。</p> <p>主要实现的功能：</p> <ol><li><p>向上层提供统一的调用接口(如read/write系统调用)</p></li> <li><p>设备的保护：设备被看做是一种特殊的文件，不同用户对各个文件的访问权限是不一样的，同理，对设备的访问权限也不一样</p></li> <li><p>差错处理：对一些设备的错误进行处理</p></li> <li><p>设备的分配与回收</p></li> <li><p>数据缓冲区管理：通过缓冲技术屏蔽设备之间数据交换单位大小和传输速度的差异</p></li> <li><p>建立逻辑设备名到物理设备名的映射关系，根据设备类型选择调用相应的驱动程序</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608150454000.png" alt="image-20220608150454000"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608150624784.png" alt="image-20220608150624784"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608150637422.png" alt="image-20220608150637422"></p></li></ol></li> <li><p>设备驱动程序</p> <p>负责对硬件设备的具体控制，将上层发出的一系列命令(如read/write)转化成特定设备能听得懂的一些列操作，包括设置设备寄存器，检查设备状态等。不同的I/O设备有不同的硬件特性，具体细节只有设备厂家才知道，因此厂家需要根据设备的硬件特性设计并提供相应的驱动程序</p></li> <li><p>中断处理程序</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608152211751.png" alt="image-20220608152211751"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608153523239.png" alt="image-20220608153523239"></p> <h2 id="_18、i-o核心子系统"><a href="#_18、i-o核心子系统" class="header-anchor">#</a> 18、I/O核心子系统</h2> <p>I/O系统(I/O核心子系统)属于操作系统的内核部分，主要包括：设备独立性软件、设备驱动程序、中断处理程序</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220608154426249.png" alt="image-20220608154426249"></p> <ol><li><p>I/O调度：用某种算法确定一个好的顺序来处理各个I/O请求</p> <p>比如：磁盘调度 ，当多个磁盘I/O请求到来时，用某种调度算法来确定满足I/O请求的顺序</p></li> <li><p>设备保护：</p> <p>操作系统需要实现文件保护功能，不同的用户对各个文件有不同的访问权限(如：只读、读和写等)</p> <p>在UNIX系统中，设备被看做是一种特殊的文件，每个设备也会有对应的FCB。当用户请求访问某个设备时，系统根据FCB中记录的信息来判断该用户是否有相应的访问权限，以此实现设备保护功能</p></li></ol> <h2 id="_19、假脱机技术"><a href="#_19、假脱机技术" class="header-anchor">#</a> 19、假脱机技术</h2> <ol><li><p>脱机技术简介</p> <ul><li><p>手工操作阶段：主机直接从I/O设备获得数据，由于设备速度慢，主机速度很快，人机速度矛盾明显，主机要浪费很多时间来等待设备</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609095039255.png" alt="image-20220609095039255"></p></li> <li><p>批处理阶段引入了脱机输入/输出技术(用磁带完成)：</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609095427515.png" alt="image-20220609095427515"></p></li> <li><p>假脱机技术，又称&quot;SPOOLing技术&quot;是用软件的方式模拟脱机技术。系统的组成如下：</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609095722677.png" alt="image-20220609095722677"></p> <p>输入井：模拟脱机输入时的磁带，用于收容I/O设备输入的数据</p> <p>输出井：模拟脱机输出时的磁带，用于收容用户进程输出的数据</p> <p>输入进程：模拟脱机输入时的外围控制机</p> <p>输出进程：模拟脱机输出时的外围控制机</p> <p>输入缓冲区：在输入进程的控制下，输入缓冲区用于暂存从输入设备输入的数据，之后在转存到输入井中</p> <p>输出缓冲区：在输出进程的控制下，用于暂存从输出井传来的数据，之后再传送到输出设备上</p></li></ul></li> <li><p>共享打印机原理分析</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609100750640.png" alt="image-20220609100750640"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609101627441.png" alt="image-20220609101627441"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609101720564.png" alt="image-20220609101720564"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609101958603.png" alt="image-20220609101958603"></p> <h2 id="_20、设备的分配与回收"><a href="#_20、设备的分配与回收" class="header-anchor">#</a> 20、设备的分配与回收</h2> <ol><li><p>设备分配时应考虑的因素</p> <ol><li><p>设备的固有属性：</p> <ul><li>独占设备—一个时段只能分配一个进程</li> <li>共享设备—可同时分配给多个进程使用，各进程往往是宏观上同时共享使用设备，而在微观上交替使用</li> <li>虚拟设备—采用SPOOLing技术将独占设备改造成虚拟的共享设备，可同时分配给多个进程使用</li></ul></li> <li><p>设备的分配算法：</p> <p>先来先服务、优先级高者优先、短任务优先.....</p></li> <li><p>设备分配中的安全性：</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609103338474.png" alt="image-20220609103338474"></p></li></ol></li> <li><p>静态分配和动态分配</p> <ul><li>静态分配：进程运行前为其分配全部所需资源，运行结束后归还资源，不会发生死锁</li> <li>动态分配：进程运行过程中动态申请设备资源</li></ul></li> <li><p>设备分配管理中的数据结构</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609103645775.png" alt="image-20220609103645775"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609103942129.png" alt="image-20220609103942129"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609104134198.png" alt="image-20220609104134198"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609104233122.png" alt="image-20220609104233122"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609104330037.png" alt="image-20220609104330037"></p></li> <li><p>设备分配的步骤</p> <ol><li>根据进程请求的物理设备名查找SDT(物理设备名是进程请求分配时提供的参数)</li> <li>根据SDT找到DCT，若设备忙碌则将进程PCB挂到设备等待队列中，不忙碌则将设备分配给进程</li> <li>根据DCT找到COCT，若控制器忙碌则将进程PCB挂到控制器等待队列中，不忙碌则将控制器分配给进程</li> <li>根据COCT找到CHCT，若通道忙碌则将进程PCB挂到通道等待队列中，不忙碌则将通道分配个进程</li></ol> <p>缺点：</p> <ol><li>用户编程时必须使用&quot;物理设备名&quot;，底层细节对用户不透明，不方便编程</li> <li>若换了一个物理设备，则程序无法运行</li> <li>若进程请求的物理设备正在忙碌，则即使系统中还有同类型的设备，进程也必须阻塞等待</li></ol> <p>改进方法：建立逻辑设备名与物理设备名的映射机制，用户编程时只需提供逻辑设备名</p></li> <li><p>设备分配改进</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220609115836152-16547471320781.png" alt=""></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610212414867.png" alt="image-20220610212414867"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610212527979.png" alt="image-20220610212527979"></p> <h2 id="_21、缓冲区管理"><a href="#_21、缓冲区管理" class="header-anchor">#</a> 21、缓冲区管理</h2> <ol><li><p>缓冲区介绍以及作用</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610212917960.png" alt="image-20220610212917960"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610213119470.png" alt="image-20220610213119470"></p></li> <li><p>单缓冲</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610213442230.png" alt="image-20220610213442230"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610213728733.png" alt="image-20220610213728733"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610214210814.png" alt="image-20220610214210814"></p> <p>结论：采用单缓冲策略，处理一块数据平均耗时Max(C,T) + M</p></li> <li><p>双缓冲</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610214717158.png" alt="image-20220610214717158"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610215055371.png" alt="image-20220610215055371"></p> <p>结论：采用双缓冲策略，处理一个数据块的平均耗时为Max(T,C+M)</p></li> <li><p>使用单/双缓冲在通信时的区别</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610215815431.png" alt="image-20220610215815431"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610215848171.png" alt="image-20220610215848171"></p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610220013207.png" alt="image-20220610220013207"></p></li> <li><p>循环缓冲区</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610220150678.png" alt="image-20220610220150678"></p></li> <li><p>缓冲池</p> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610221353573.png" alt="image-20220610221353573"></p></li></ol> <p><img src="https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220610221431032.png" alt="image-20220610221431032"></p></div></section> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/vingkin/Blog/edit/docs/docs/OS/OS3.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/Blog/OS/OS2.html" class="prev">
            操作系统中
          </a></span> <!----></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_1、初识文件管理" class="sidebar-link reco-side-_1、初识文件管理" data-v-cb1513f6>1、初识文件管理</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_2、文件的逻辑结构" class="sidebar-link reco-side-_2、文件的逻辑结构" data-v-cb1513f6>2、文件的逻辑结构</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_3、文件目录" class="sidebar-link reco-side-_3、文件目录" data-v-cb1513f6>3、文件目录</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_4、文件的物理结构" class="sidebar-link reco-side-_4、文件的物理结构" data-v-cb1513f6>4、文件的物理结构</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_5、文件存储空间管理" class="sidebar-link reco-side-_5、文件存储空间管理" data-v-cb1513f6>5、文件存储空间管理</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_6、文件的基本操作" class="sidebar-link reco-side-_6、文件的基本操作" data-v-cb1513f6>6、文件的基本操作</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_7、文件共享" class="sidebar-link reco-side-_7、文件共享" data-v-cb1513f6>7、文件共享</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_8、文件保护" class="sidebar-link reco-side-_8、文件保护" data-v-cb1513f6>8、文件保护</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_9、文件系统的层次结构" class="sidebar-link reco-side-_9、文件系统的层次结构" data-v-cb1513f6>9、文件系统的层次结构</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_10、磁盘的结构" class="sidebar-link reco-side-_10、磁盘的结构" data-v-cb1513f6>10、磁盘的结构</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_11、磁盘调度算法" class="sidebar-link reco-side-_11、磁盘调度算法" data-v-cb1513f6>11、磁盘调度算法</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_12、减少延迟时间的方法" class="sidebar-link reco-side-_12、减少延迟时间的方法" data-v-cb1513f6>12、减少延迟时间的方法</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_13、磁盘的管理" class="sidebar-link reco-side-_13、磁盘的管理" data-v-cb1513f6>13、磁盘的管理</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_14、i-o设备的基本概念和分类" class="sidebar-link reco-side-_14、i-o设备的基本概念和分类" data-v-cb1513f6>14、I/O设备的基本概念和分类</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_15、i-o控制器" class="sidebar-link reco-side-_15、i-o控制器" data-v-cb1513f6>15、I/O控制器</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_16、i-o控制方式" class="sidebar-link reco-side-_16、i-o控制方式" data-v-cb1513f6>16、I/O控制方式</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_17、i-o软件层次结构" class="sidebar-link reco-side-_17、i-o软件层次结构" data-v-cb1513f6>17、I/O软件层次结构</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_18、i-o核心子系统" class="sidebar-link reco-side-_18、i-o核心子系统" data-v-cb1513f6>18、I/O核心子系统</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_19、假脱机技术" class="sidebar-link reco-side-_19、假脱机技术" data-v-cb1513f6>19、假脱机技术</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_20、设备的分配与回收" class="sidebar-link reco-side-_20、设备的分配与回收" data-v-cb1513f6>20、设备的分配与回收</a></li><li class="level-2" data-v-cb1513f6><a href="/Blog/OS/OS3.html#_21、缓冲区管理" class="sidebar-link reco-side-_21、缓冲区管理" data-v-cb1513f6>21、缓冲区管理</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/Blog/assets/js/app.4417eb82.js" defer></script><script src="/Blog/assets/js/3.2daec6eb.js" defer></script><script src="/Blog/assets/js/1.3441dec7.js" defer></script><script src="/Blog/assets/js/12.43533bfe.js" defer></script>
  </body>
</html>
